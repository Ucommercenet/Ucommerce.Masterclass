@using Ucommerce
@using Ucommerce.Catalog.Models
@model Ucommerce.Masterclass.Umbraco.Models.ProductViewModel
@{
    Layout = "~/views/shared/TwoCol.cshtml";
    
    ProductPriceCalculationResult.Item firstPrice = Model.Prices.First(x => x.VariantSku == null);
    bool hasDiscount = firstPrice.DiscountExclTax > 0;
    
    var formattedPrice = new Money(firstPrice.PriceInclTax, firstPrice.CurrencyISOCode);
    var formattedTax = new Money(firstPrice.PriceTax, firstPrice.CurrencyISOCode);
    var formattedListPrice= new Money(firstPrice.ListPriceInclTax, firstPrice.CurrencyISOCode);
    var percentageDiscount = Convert.ToInt32(firstPrice.DiscountPercentage);
}
<div class="row">
    <div class="col-md-5">
        <img src="@Model.PrimaryImageUrl" style="max-width: 100%; max-height: 100%;" alt="@Model.Name" />
    </div>
    <section class="col-md-7">
        <header class="col-md-12">
            <h2 itemprop="name"><b>@Model.Name</b></h2>
        </header>
        <form method="post">
            <div class="col-md-12 border bg-light">
                <div class="col-md-5 p-4">
                    @if (hasDiscount)
                    {
                        <h1 class="text-success m-0">@formattedPrice</h1>
                        <div>
                            <span style="text-decoration: line-through;">@formattedListPrice</span>
                            <span class="badge bg-dark">-@percentageDiscount %</span>
                        </div>
                        
                        <div>
                            <span class="font-italic" style="font-size: 10px">inc. tax @formattedTax</span>
                        </div>
                    }
                    else
                    {
                        <h1 class="text-success">@formattedPrice</h1>
                    }
                </div>
                <div class="col-md-7">
                    
                </div>
            </div>
        </form>
    </section>
</div>